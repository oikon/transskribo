# Transskribo — Progress Log
#
# Format:
#   Each entry is a block with the following fields:
#
#   ## YYYY-MM-DD HH:MM — Session N: <title>
#   Features: <comma-separated requirement IDs completed>
#   Status: success | partial | failed
#   Notes:
#     - <what was done>
#     - <what was done>
#   Issues:
#     - <any problems encountered, or "none">
#
# This file is updated by each headless session after completing work.
# It serves as a handoff log between sessions.

## 2026-02-12 — Session 1: Project Skeleton & Configuration
Features: 1.01, 1.02, 1.03, 2.01, 2.02, 2.03, 2.04, 2.05
Status: success
Notes:
  - Created pyproject.toml with all dependencies and entry point
  - Created src/transskribo/__init__.py with __version__
  - Created src/transskribo/cli.py with Typer app and placeholder run command
  - Created .gitignore for Python project
  - Created config.example.toml with all documented options
  - Created tests/conftest.py with shared fixtures (tmp dirs, sample config)
  - Implemented TransskriboConfig frozen dataclass with all fields and defaults
  - Implemented load_config() for TOML parsing
  - Implemented merge_config() with defaults < file < CLI override priority
  - Implemented config validation (input_dir exists, output_dir creatable, hf_token required)
  - HF_TOKEN env var fallback works correctly
  - Wrote 20 tests covering all config functionality
  - All tests pass, ruff clean, pyright clean
Issues:
  - none

## 2026-02-12 — Session 2: Logging, File Scanner & Validation
Features: 3.01, 3.02, 4.01, 4.02, 4.03, 5.01, 5.02, 5.03
Status: success
Notes:
  - Implemented setup_logging() in logging_setup.py with rich stdout + rotating file handler
  - Wrote 6 tests for logging (handler attachment, file creation, message routing, level filtering)
  - Implemented AudioFile frozen dataclass and scan_directory() in scanner.py
  - Supports 14 extensions (8 audio + 6 video), case-insensitive, with mirrored output paths
  - Implemented filter_already_processed() to skip files with existing output
  - Wrote 13 tests for scanner (empty dir, nested dirs, extensions, filtering, frozen dataclass)
  - Implemented ValidationResult frozen dataclass and check_ffprobe_available() in validator.py
  - Implemented validate_file() using ffprobe subprocess with all rejection checks
  - Wrote 14 tests for validator (zero-length, valid audio, video+audio, no audio, corrupt, max duration, timeout, invalid JSON, no duration)
  - All 53 tests pass, ruff clean, pyright clean
Issues:
  - none
